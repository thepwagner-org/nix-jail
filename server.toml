# nix-jail server configuration
# Run with: cargo run --bin server -- --config server.toml

[server]
addr = "127.0.0.1:50051"
state_dir = "/tmp/nix-jail"
store_strategy = "cached"  # "cached" (persistent) or "fresh" (ephemeral)
otlp_endpoint = "https://tempo.pwagner.net:4317"

# Git credential for private repository access
[[credentials]]
name = "forgejo"
type = "github"
source_env = "GIT_TOKEN"
allowed_host_patterns = ["git\\.pwagner\\.net"]
header_format = "token {token}"
